{
  "version": 3,
  "sources": ["../../../../../apps/frappe/frappe/public/js/onboarding_tours/onboarding_tours.js"],
  "sourcesContent": ["frappe.ui.OnboardingTour = class OnboardingTour {\n\tconstructor() {\n\t\tthis.driver_steps = [];\n\t\tthis.last_step_saved = null;\n\t\tthis.last_element_clicked = null;\n\t}\n\n\tinit_driver() {\n\t\tthis.driver = new frappe.Driver({\n\t\t\tclassName: \"frappe-driver\",\n\t\t\tallowClose: false,\n\t\t\tpadding: 10,\n\t\t\toverlayClickNext: false,\n\t\t\tkeyboardControl: false,\n\t\t\tnextBtnText: __(\"Next\"),\n\t\t\tprevBtnText: __(\"Previous\"),\n\t\t\tdoneBtnText: __(\"Done\"),\n\t\t\tcloseBtnText: __(\"Skip\"),\n\t\t\topacity: 0.5,\n\t\t\tonHighlighted: (step) => {\n\t\t\t\tfrappe.ui.next_form_tour = step.options.step_info?.next_form_tour;\n\t\t\t\tconst wait_for_node = setInterval(() => {\n\t\t\t\t\tif (!step.popover.node) return;\n\t\t\t\t\tif (step.options.step_info?.offset_x) {\n\t\t\t\t\t\tstep.popover.node.style.left = `${\n\t\t\t\t\t\t\tstep.popover.node.offsetLeft + step.options.step_info.offset_x\n\t\t\t\t\t\t}px`;\n\t\t\t\t\t}\n\t\t\t\t\tif (step.options.step_info?.offset_y) {\n\t\t\t\t\t\tstep.popover.node.style.top = `${\n\t\t\t\t\t\t\tstep.popover.node.offsetTop + step.options.step_info.offset_y\n\t\t\t\t\t\t}px`;\n\t\t\t\t\t}\n\t\t\t\t\tif (step.popover.node.offsetLeft < 0) {\n\t\t\t\t\t\tstep.popover.node.style.minWidth = \"200px\";\n\t\t\t\t\t\tstep.popover.node.style.maxWidth = `${\n\t\t\t\t\t\t\t350 + step.popover.node.offsetLeft\n\t\t\t\t\t\t}px`;\n\t\t\t\t\t\tstep.popover.node.style.left = \"0px\";\n\t\t\t\t\t}\n\t\t\t\t\tif (step.popover.closeBtnNode) {\n\t\t\t\t\t\tstep.popover.closeBtnNode.onclick = () => {\n\t\t\t\t\t\t\tthis.on_finish && this.on_finish();\n\t\t\t\t\t\t\t!frappe.boot.user.onboarding_status[this.tour.name] &&\n\t\t\t\t\t\t\t\t(frappe.boot.user.onboarding_status[this.tour.name] = {});\n\t\t\t\t\t\t\tfrappe.boot.user.onboarding_status[this.tour.name].is_complete = true;\n\t\t\t\t\t\t\tif (!this.driver.hasNextStep()) {\n\t\t\t\t\t\t\t\tfrappe.boot.user.onboarding_status[\n\t\t\t\t\t\t\t\t\tthis.tour.name\n\t\t\t\t\t\t\t\t].all_steps_completed = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfrappe.call({\n\t\t\t\t\t\t\t\tmethod: \"frappe.desk.doctype.form_tour.form_tour.update_user_status\",\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tvalue: JSON.stringify(frappe.boot.user.onboarding_status),\n\t\t\t\t\t\t\t\t\tstep: JSON.stringify(step.options.step_info),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tclearInterval(wait_for_node);\n\t\t\t\t}, 300);\n\n\t\t\t\t// focus on first input.\n\t\t\t\t// TODO : later add option to select which input to focus as well.\n\t\t\t\tconst $input = $(step.node).find(\"input\").get(0);\n\t\t\t\tif ($input) frappe.utils.sleep(200).then(() => $input.focus());\n\t\t\t},\n\t\t});\n\t}\n\n\tasync init({ tour_name, start_step }) {\n\t\tthis.tour = await frappe.db.get_doc(\"Form Tour\", tour_name);\n\t\tthis.init_driver();\n\t\tthis.build_steps();\n\t\tthis.update_driver_steps();\n\t\tif (!this.tour.track_steps) {\n\t\t\tstart_step = 0;\n\t\t}\n\t\tthis.start(start_step);\n\t}\n\n\tbuild_steps() {\n\t\tthis.driver_steps = [];\n\t\tthis.tour.steps.forEach((step) => {\n\t\t\tconst on_next = async (el) => {\n\t\t\t\tconst step_index = this.driver.steps.indexOf(el);\n\t\t\t\tif (step_index == -1 || this.last_step_saved?.name == step.name) return;\n\t\t\t\tfrappe.boot.user.onboarding_status[this.tour.name] = {\n\t\t\t\t\tsteps_complete: step_index,\n\t\t\t\t};\n\t\t\t\tif (!this.driver.hasNextStep()) {\n\t\t\t\t\tthis.on_finish && this.on_finish();\n\t\t\t\t\tfrappe.boot.user.onboarding_status[this.tour.name].is_complete = true;\n\t\t\t\t}\n\t\t\t\tthis.last_step_saved = step;\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"frappe.desk.doctype.form_tour.form_tour.update_user_status\",\n\t\t\t\t\targs: {\n\t\t\t\t\t\tvalue: JSON.stringify(frappe.boot.user.onboarding_status),\n\t\t\t\t\t\tstep: JSON.stringify(step),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t};\n\t\t\tconst driver_step = this.get_step(step, on_next);\n\t\t\tdriver_step.element && this.driver_steps.push(driver_step);\n\t\t});\n\t}\n\n\tget_step(step_info, on_next) {\n\t\tconst {\n\t\t\tname,\n\t\t\telement_selector,\n\t\t\ttitle,\n\t\t\tdescription,\n\t\t\tondemand_description,\n\t\t\tposition,\n\t\t\tparent_element_selector,\n\t\t\thide_buttons,\n\t\t\tnext_on_click,\n\t\t\tpopover_element,\n\t\t\tmodal_trigger,\n\t\t} = step_info;\n\t\tlet element = cur_page?.page.querySelector(element_selector);\n\t\t!element && (element = document.querySelector(element_selector));\n\t\tif (element && parent_element_selector) {\n\t\t\telement = element.closest(parent_element_selector);\n\t\t}\n\t\tif (element && (next_on_click || hide_buttons || modal_trigger)) {\n\t\t\t$(element).on(\"click\", () => {\n\t\t\t\tif (\n\t\t\t\t\t!this.driver.getHighlightedElement() ||\n\t\t\t\t\tthis.driver.getHighlightedElement().node.id?.startsWith(\"popover\")\n\t\t\t\t)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (\n\t\t\t\t\tmodal_trigger &&\n\t\t\t\t\t(!this.last_element_clicked ||\n\t\t\t\t\t\tnew Date().getTime() - new Date(this.last_element_clicked).getTime() >\n\t\t\t\t\t\t\t1000)\n\t\t\t\t) {\n\t\t\t\t\tthis.last_element_clicked = new Date().getTime();\n\t\t\t\t\tthis.handle_modal_steps(this.driver.currentStep, title, ondemand_description);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!popover_element) {\n\t\t\t\t\ton_next(this.driver.getHighlightedElement());\n\t\t\t\t\tthis.driver.moveNext();\n\t\t\t\t\tthis.driver.overlay.refresh();\n\t\t\t\t}\n\n\t\t\t\tif (!this.driver.getHighlightedElement()) return;\n\t\t\t\ton_next(this.driver.getHighlightedElement());\n\t\t\t\tlet popover = this.driver\n\t\t\t\t\t.getHighlightedElement()\n\t\t\t\t\t.node.getAttribute(\"aria-describedby\")\n\t\t\t\t\t? this.driver.getHighlightedElement().node\n\t\t\t\t\t: this.driver\n\t\t\t\t\t\t\t.getHighlightedElement()\n\t\t\t\t\t\t\t.node.querySelector('[aria-describedby^=\"popover\"]');\n\n\t\t\t\tif (!popover) return;\n\n\t\t\t\tlet popover_id = popover.getAttribute(\"aria-describedby\");\n\t\t\t\tlet step_index = this.driver.steps.indexOf(this.driver.getHighlightedElement());\n\n\t\t\t\tif (this.driver_steps[step_index + 1]?.element.id == popover_id) return;\n\n\t\t\t\tthis.driver_steps = this.driver_steps.filter(\n\t\t\t\t\t(step) => !step.element.id?.startsWith(\"popover\")\n\t\t\t\t);\n\n\t\t\t\tlet new_step = { ...this.driver_steps[step_index] };\n\t\t\t\tnew_step.element = document.getElementById(popover_id);\n\t\t\t\tnew_step.showButtons = false;\n\t\t\t\tondemand_description && (new_step.popover.description = ondemand_description);\n\n\t\t\t\tthis.driver_steps.splice(this.driver.currentStep + 1, 0, new_step);\n\t\t\t\tthis.update_driver_steps();\n\t\t\t\tthis.driver.moveNext();\n\t\t\t\tthis.driver.overlay.refresh();\n\n\t\t\t\t$(popover).one(\"hide.bs.popover\", (e) => {\n\t\t\t\t\tthis.driver_steps.splice(this.driver.currentStep, 1);\n\t\t\t\t\tthis.driver_steps[this.driver.currentStep - 1].showButtons = true;\n\t\t\t\t\tnew_step.popover.description = description;\n\t\t\t\t\tthis.update_driver_steps();\n\t\t\t\t\tthis.driver.movePrevious();\n\t\t\t\t\tthis.driver.overlay.refresh();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tlet showButtons = true;\n\t\tif (popover_element || hide_buttons) {\n\t\t\tshowButtons = false;\n\t\t}\n\t\treturn {\n\t\t\telement,\n\t\t\tname,\n\t\t\tpopover: {\n\t\t\t\ttitle,\n\t\t\t\tdescription,\n\t\t\t\tposition: frappe.router.slug(position || \"Bottom\"),\n\t\t\t},\n\t\t\tonNext: on_next,\n\t\t\tstep_info: step_info,\n\t\t\tshowButtons,\n\t\t};\n\t}\n\n\tupdate_driver_steps(steps = []) {\n\t\tif (steps.length == 0) {\n\t\t\tsteps = this.driver_steps;\n\t\t}\n\t\tthis.driver.defineSteps(steps);\n\t}\n\n\tstart(idx = 0) {\n\t\tif (this.driver_steps.length == 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis.driver.start(idx);\n\t}\n\n\thandle_modal_steps(step, title, description) {\n\t\tsetTimeout(() => {\n\t\t\tconst modal_element = $(\".modal-content\");\n\t\t\tconst attach_dialog_step = {\n\t\t\t\telement: modal_element[0],\n\t\t\t\tallowClose: false,\n\t\t\t\toverlayClickNext: false,\n\t\t\t\tpopover: {\n\t\t\t\t\ttitle,\n\t\t\t\t\tdescription,\n\t\t\t\t\tposition: \"left-center\",\n\t\t\t\t\tdoneBtnText: __(\"Next\"),\n\t\t\t\t},\n\t\t\t};\n\t\t\tthis.driver_steps.splice(step + 1, 0, attach_dialog_step);\n\t\t\tthis.update_driver_steps(); // need to define again, since driver.js only considers steps which are inside DOM\n\t\t\tthis.driver.reset();\n\t\t\tthis.driver.start(step + 1);\n\t\t\tthis.driver.overlay.refresh();\n\t\t\tmodal_element.closest(\".modal\").one(\"hide.bs.modal\", () => {\n\t\t\t\tthis.driver_steps.splice(this.driver.currentStep, 1);\n\t\t\t\tthis.update_driver_steps();\n\t\t\t\tthis.driver.movePrevious();\n\t\t\t\tthis.driver.moveNext();\n\t\t\t\tthis.driver.overlay.refresh();\n\t\t\t});\n\t\t}, 500);\n\t}\n};\n\nfrappe.ui.init_onboarding_tour = () => {\n\t// As of now Tours are only for desktop as it is annoying on mobile.\n\t// Also lot of elements are hidden on mobile so until we find a better way to do it.\n\tif (!window.matchMedia(\"(min-device-width: 992px)\").matches) return;\n\n\ttypeof frappe.boot.onboarding_tours == \"undefined\" && frappe.boot.onboarding_tours == [];\n\ttypeof frappe.boot.user.onboarding_status == \"undefined\" &&\n\t\tfrappe.boot.user.onboarding_status == {};\n\tlet route = frappe.router.current_route;\n\tif (route[0] === \"\") return;\n\n\tlet tour_name;\n\tlet matching_tours = [];\n\tlet start_step;\n\tif (route[0] == \"query-report\") {\n\t\troute = [\"List\", route[1], \"Report\"];\n\t}\n\tif (route[0] != \"dashboard-view\") {\n\t\tfrappe.boot.onboarding_tours &&\n\t\t\tfrappe.boot.onboarding_tours.forEach((tour) => {\n\t\t\t\tlet tour_route = tour[1];\n\t\t\t\tlet length = Math.min(route.length, tour_route.length);\n\t\t\t\tif (length >= 1 && route[0] != tour_route[0]) return;\n\t\t\t\tif (length >= 2 && tour_route[1] != \"*\" && route[1] != tour_route[1]) return;\n\t\t\t\tif (\n\t\t\t\t\tlength >= 3 &&\n\t\t\t\t\t[\"*\", \"new-*\"].indexOf(tour_route[2]) == -1 &&\n\t\t\t\t\troute[2] != tour_route[2]\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tmatching_tours.push(tour);\n\t\t\t});\n\t}\n\tmatching_tours = matching_tours.filter((tour) => {\n\t\tif (frappe.boot.user.onboarding_status[tour[0]]?.is_complete == true) return false;\n\t\treturn true;\n\t});\n\tmatching_tours = matching_tours.map((tour) => {\n\t\tif (frappe.boot.user.onboarding_status[tour[0]]?.steps_complete != undefined) {\n\t\t\ttour.push(frappe.boot.user.onboarding_status[tour[0]].steps_complete);\n\t\t}\n\t\treturn tour;\n\t});\n\tif (matching_tours.length == 0) return;\n\tlet current_tour = matching_tours.find(\n\t\t(tour) => tour[0] == frappe.ui.currentTourInstance?.tour?.name\n\t);\n\tlet next_tour = matching_tours.find((tour) => tour[0] == frappe.ui.next_form_tour);\n\tif (current_tour) {\n\t\ttour_name = current_tour[0];\n\t\tstart_step = current_tour.at(-1);\n\t\tif (typeof start_step != \"number\") {\n\t\t\tstart_step = 0;\n\t\t}\n\t} else if (next_tour) {\n\t\ttour_name = next_tour[0];\n\t\tstart_step = next_tour.at(-1);\n\t\tif (typeof start_step != \"number\") {\n\t\t\tstart_step = 0;\n\t\t} else {\n\t\t\tstart_step += 1;\n\t\t}\n\t\tfrappe.ui.next_form_tour = undefined;\n\t} else {\n\t\ttour_name = matching_tours[0][0];\n\t\tstart_step = matching_tours[0].at(-1);\n\t\tif (typeof start_step != \"number\") {\n\t\t\tstart_step = 0;\n\t\t} else {\n\t\t\tstart_step += 1;\n\t\t}\n\t}\n\tif (!tour_name) return;\n\tif (frappe.ui.currentTourInstance?.driver) {\n\t\tfrappe.ui.currentTourInstance.driver_steps = [];\n\t\tfrappe.ui.currentTourInstance.driver.reset(true);\n\t\tfrappe.ui.currentTourInstance.update_driver_steps();\n\t}\n\tconst tour = (frappe.ui.currentTourInstance = new frappe.ui.OnboardingTour());\n\t// wait for workspace and/or data to load.\n\tconst wait_for_data = setInterval(() => {\n\t\tif (cur_page?.page.querySelector(\".workspace-sidebar-skeleton\")) return;\n\t\tif (cur_page?.page.querySelector(\".workspace-skeleton\")) return;\n\t\tif (document.body.getAttribute(\"data-ajax-state\") === \"complete\") {\n\t\t\tfrappe.utils.sleep(500).then(() => {\n\t\t\t\ttour.init({\n\t\t\t\t\ttour_name,\n\t\t\t\t\tstart_step,\n\t\t\t\t});\n\t\t\t\tclearInterval(wait_for_data);\n\t\t\t});\n\t\t}\n\t}, 100);\n};\n\nfrappe.router.on(\"change\", () => {\n\tfrappe.ui.init_onboarding_tour();\n});\n"],
  "mappings": "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",
  "names": ["step", "_a", "wait_for_node", "_b", "$input", "tour_name", "start_step", "on_next", "el", "step_index", "driver_step", "step_info", "name", "element_selector", "title", "description", "ondemand_description", "position", "parent_element_selector", "hide_buttons", "next_on_click", "popover_element", "modal_trigger", "element", "popover", "popover_id", "new_step", "__spreadValues", "e", "showButtons", "steps", "idx", "modal_element", "attach_dialog_step", "route", "matching_tours", "tour", "tour_route", "length", "current_tour", "next_tour", "wait_for_data"]
}

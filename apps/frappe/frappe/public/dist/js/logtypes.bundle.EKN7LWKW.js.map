{
  "version": 3,
  "sources": ["../../../../../apps/frappe/frappe/public/js/frappe/logtypes.js"],
  "sourcesContent": ["// Copyright (c) 2022, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\n// Common utility functions for logging doctypes.\n\nfrappe.provide(\"frappe.utils.logtypes\");\n\nfrappe.utils.logtypes.show_log_retention_message = (doctype) => {\n\tif (!frappe.model.can_write(\"Log Settings\")) {\n\t\treturn;\n\t}\n\n\tconst add_sidebar_message = (message) => {\n\t\tlet sidebar_entry = $('<ul class=\"list-unstyled sidebar-menu\"></ul>').appendTo(\n\t\t\tcur_list.page.sidebar\n\t\t);\n\t\t$(`<div>${message}</div>`).appendTo(sidebar_entry);\n\t};\n\n\tconst log_settings_link = `<a href='/app/log-settings'>${__(\"Log Settings\")}</a>`;\n\tconst cta = __(\"You can change the retention policy from {0}.\", [log_settings_link]);\n\tlet message = __(\"{0} records are not automatically deleted.\", [__(doctype)]);\n\n\tfrappe.db\n\t\t.get_value(\"Logs To Clear\", { ref_doctype: doctype }, \"days\", null, \"Log Settings\")\n\t\t.then((r) => {\n\t\t\tif (!r.exc && r.message && r.message.days) {\n\t\t\t\tmessage = __(\"{0} records are retained for {1} days.\", [\n\t\t\t\t\t__(doctype),\n\t\t\t\t\tr.message.days,\n\t\t\t\t]);\n\t\t\t}\n\t\t\tadd_sidebar_message(`${message} ${cta}`);\n\t\t});\n};\n"],
  "mappings": "MAKA,OAAO,QAAQ,uBAAuB,EAEtC,OAAO,MAAM,SAAS,2BAA8BA,GAAY,CAC/D,GAAI,CAAC,OAAO,MAAM,UAAU,cAAc,EACzC,OAGD,IAAMC,EAAuBC,GAAY,CACxC,IAAIC,EAAgB,EAAE,8CAA8C,EAAE,SACrE,SAAS,KAAK,OACf,EACA,EAAE,QAAQD,SAAe,EAAE,SAASC,CAAa,CAClD,EAEMC,EAAoB,+BAA+B,GAAG,cAAc,QACpEC,EAAM,GAAG,gDAAiD,CAACD,CAAiB,CAAC,EAC/EF,EAAU,GAAG,6CAA8C,CAAC,GAAGF,CAAO,CAAC,CAAC,EAE5E,OAAO,GACL,UAAU,gBAAiB,CAAE,YAAaA,CAAQ,EAAG,OAAQ,KAAM,cAAc,EACjF,KAAMM,GAAM,CACR,CAACA,EAAE,KAAOA,EAAE,SAAWA,EAAE,QAAQ,OACpCJ,EAAU,GAAG,yCAA0C,CACtD,GAAGF,CAAO,EACVM,EAAE,QAAQ,IACX,CAAC,GAEFL,EAAoB,GAAGC,KAAWG,GAAK,CACxC,CAAC,CACH",
  "names": ["doctype", "add_sidebar_message", "message", "sidebar_entry", "log_settings_link", "cta", "r"]
}
